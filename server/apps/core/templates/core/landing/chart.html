{% extends 'core/landing/layout.html' %}

{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'core/landing/css/map.css' %}">

<div class="loader">
  <div class="loading-animation"></div>
</div>




<section class="pb-8 bg-primary-3 text-light">
  <div class="container">
    <h2 class="mb-5">Количество случаев вмешательства в свободу интернета</h2>

    <div class="lines">
      <div id="line_chart_block" class="bg-primary-3 text-light p-1">
        <div id="line_filters" class="mb-3"></div>
        <button class="btn btn-sm btn-outline-primary float-right mb-3" id="add_line_chart">Добавить график</button>
        <div class="bg-primary-3 text-light mt-5">
          <canvas id="incidents_line_chart"></canvas>
        </div>
      </div>
      <small id="download_line_chart" class="d-block text-center mt-3">
        <a href="#">
          <u class="text-secondary">Скачать графики</u>
        </a>
      </small>
    </div>

    <div class="pie pt-5">
      <h3 class="pie my-5">Распределение инцидентов по категориям и тегам</h3>
      <div id="pie_chart_block" class="bg-primary-3 text-light px-1">
        <div id="pie_filters" class="mb-3">
          <div class="row">
            <div class="col-xl-4 col-lg-4 col-md-12">
              <select name="region" class="form-control"></select>
            </div>
            <div class="col-xl-4 col-lg-4 col-md-12">
              <select name="slice_by" class="form-control">
                <option value="incident_type">по категориям</option>
                <option value="tag">по тегам</option>
              </select>
            </div>
            <span class="col-xl-4 col-lg-4 col-md-12">
              <input id="pie_dates" type="email" name="dates" class="form-control" autocomplete="off" placeholder="Даты">
            </span>
            <input type="hidden" id="start_date">
            <input type="hidden" id="end_date">
          </div>
        </div>

        <div id="pie_chart_message" class="px-2"></div>
        <div class="row">
          <div class="bg-primary-3 text-light mt-5 col-12 col-lg-8">
            <canvas id="pie_chart"></canvas>
          </div>

          <ul id="pie_legend" class="col-12 col-lg-4 pt-4">
          </ul>

        </div>

      </div>
    </div>

  </div>
</section>

{% endblock %}

{% block user_scripts %}
<script src="{% static 'core/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'core/js/bootstrap-select.min.js' %}"></script>
<script src="{% static 'core/js/bootstrap-select-ru.js' %}"></script>
<script type="text/javascript" src="{% static 'core/landing/js/dom-to-image.min.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<script src="{% static 'core/landing/js/chart_scripts.js' %}"></script>
<script type="text/javascript">
  $('#chart-link').addClass('active');
</script>
{% endblock %}
