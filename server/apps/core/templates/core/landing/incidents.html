{% extends 'core/landing/layout.html' %}

{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'core/landing/css/map.css' %}">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />

<div class="loader">
  <div class="loading-animation"></div>
</div>

<section class="services-section pb-8 bg-primary-3 text-light">
  <div class="container">

    <div id="map" class="bg-primary-3 text-light">
      <div class="row justify-content-center mb-5">
        <div class="col-md-12 heading-section text-center">
          <h2>Карта инцидентов вмешательства в свободу интернета</h2>
          <small class="text-muted d-block">Информация обновляется ежедневно в 4:00 (мск)</small>
        </div>
      </div>

      <div class="row">
        <div class="col-xl-4 col-lg-4 col-md-12 mb-2">
          <select id="category" class="form-control">
            <option value="">Все категории</option>
          </select>
        </div>
        <div class="col-xl-4 col-lg-4 col-md-12 mb-2">
          <select id="tag" class="form-control">
            <option value="">Все теги</option>
          </select>
        </div>
        <span class="col-xl-4 col-lg-4 col-md-12">
          <input id="dates" type="email" name="dates" class="form-control" autocomplete="off" placeholder="Даты">
        </span>
        <input type="hidden" id="start_date">
        <input type="hidden" id="end_date">
      </div>

      <div class="row mt-4">
        <div class="col-12 col-md-6">
          <div style="display: flex; justify-content: center;">
            <ul class="legend">
              <li><span class="low"></span> 1-3</li>
              <li><span class="medium"></span> 4-9</li>
              <li><span class="high"></span> 10-29</li>
              <li><span class="disturbing"></span> 30+</li>
            </ul>
          </div>
        </div>
        <div class="col-12 col-md-6">
          <div class="total">
            <b>Всего:</b>
            <ul></ul>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col"  style="min-height: 320px;">
          <div id="russia" class="map-russia" style="width: 1200px; height: 720px; position: relative; overflow: hidden;">
          </div>
        </div>
      </div>
    </div>

    <small id="downloadMap" class="d-block text-center mb-1" style="position:relative; top:-2em;"><a href="#"><u class="text-secondary">Скачать карту</u></a></small>

    <div class="row">
      <div class="col-md-6 mb-2">
        <input placeholder="Поиск" type="text" name="search" id="search" class="form-control">
      </div>
      <div class="col-md-6">
        <select id="region" class="form-control"></select>
      </div>
    </div>

    <table id="table" style="width:100%" class="table-dark"></table>
    <small id="export" class="d-block text-center mb-1"><a href="#"><u class="text-secondary">Скачать таблицу</u></a></small>

  </div>
</section>

{% endblock %}

{% block user_scripts %}

<script src="{% static 'core/landing/js/jquery.vmap.js' %}"></script>
<script src="{% static 'core/landing/js/jquery.vmap.russia.js' %}"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.20/datatables.min.js"></script>
<script src="{% static 'core/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'core/js/bootstrap-select.min.js' %}"></script>
<script src="{% static 'core/js/bootstrap-select-ru.js' %}"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<script type="text/javascript" src="{% static 'core/landing/js/dom-to-image.min.js' %}"></script>
<script src="{% static 'core/landing/js/incidents_scripts.js' %}"></script>
<script type="text/javascript">
  $("#incidents-link").addClass("active");
</script>

{% endblock %}
